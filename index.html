<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Gerenciador de Memória Cache</title>
  </head>
  <body>
    <nav class="navbar navbar-light bg-light">
        <span class="navbar-brand mb-0 h1">Gerenciador de Memória Cache</span>
    </nav>
    
    <div class="container">
        
        <br>
        <div class="card">
            <div class="card-body">
                <h5>Dados</h5>
                <br>
                <h6>Endereço</h6>
                <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                <br>
                <h6>Valor</h6>
                <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                <br>
                <button type="button" class="btn btn-dark">Ler</button>
                <button type="button" class="btn btn-dark">Escrever</button>
            </div>
        </div>

        <br>
        <div class="card">
            <div class="card-body">
                <h5>Memória Cache</h5>
                <br>
                <table id="tabelaMemCache" class="table">
                    <thead>
                    <tr>
                        <th scope="col">Rótulo</th>
                        <th scope="col">Quadro</th>
                        <th scope="col">Célula 0</th>
                        <th scope="col">Célula 1</th>
                        <th scope="col">Célula 2</th>
                        <th scope="col">Célula 3</th>
                    </tr>

                    <!-- </thead>
                    <tbody>
                    <tr>
                        <th scope="row">1</th>
                        <td>Mark</td>
                        <td>Otto</td>
                        <td>@mdo</td>
                    </tr>
                    <tr>
                        <th scope="row">2</th>
                        <td>Jacob</td>
                        <td>Thornton</td>
                        <td>@fat</td>
                    </tr>
                    <tr>
                        <th scope="row">3</th>
                        <td>Larry</td>
                        <td>the Bird</td>
                        <td>@twitter</td>
                    </tr>
                    </tbody> -->
                </table>
            </div>
        </div>
        <br>
        <div class="card">
            <div class="card-body">
                <h5>Memória Principal</h5>
                <br>
                <table id="tabelaMemPrincipal" class="table">
                    <tr>
                        <th scope="col">Endereço</th>
                        <th scope="col">Bloco</th>
                        <th scope="col">Dado</th>
                    </tr>


                    
                    
                    
                    
                    <!-- <thead>
                    <tr>
                        <th scope="col">Endereço</th>
                        <th scope="col">Bloco</th>
                        <th scope="col">Dado</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr id="endereco_tr">

                    </tr>
                    <tr>
                        <th scope="row">2</th>
                        <td>Jacob</td>
                        <td>Thornton</td>
                    </tr>
                    <tr>
                        <th scope="row">3</th>
                        <td>Larry</td>
                        <td>the Bird</td>
                    </tr>
                    </tbody> -->
                </table>
            </div>
        </div>
            


    </div>
    
    
    
    
    <script>
    /************************AJUDA***********************/
  /* Resumo Array Bidimensional
    var memoriaprincipal = new Array();
    memoriaprincipal[1] = new Array ("Banana","Maça","Pêra");
    alert(memoriaprincipal[1][2]);
    for(i=0; i<array.length; i++)
    {
        for(j=0;j<array[i].length; j++)
        {
		    alert(array[i][j]);
        }
    }
  */
  /* Decimal para Binario
  var decimal = 2015;
  var binario = decimal.toString(2);
  alert(binario);
  */
  /* Binario para Decimal
  var binario = 11111011111;
  var decimal = parseInt(binario, 2);
  alert(decimal);
  */
 
  function transformarendereco()
 {
   const auxiliar = document.querySelector('#endereco');
   const endereco = auxiliar.value;
   const enderecocortado = endereco.slice(5,8);
   
 }
 
 //Função para colocar zeros à esquerda do endereço
 function pad(str, length) 
 {
   const resto = length - String(str).length;
   return '0'.repeat(resto > 0 ? resto : '0') + str;
 }

    /*************CRIAÇÃO DA MEMÓRIA PRINCIPAL*************/
    /*MEMÓRIA PRINCIPAL
    ENDEREÇO | BLOCO | DADO*/
     var memoriaprincipal = new Array(1024);
     var memoriacache = new Array(64);
     var memoriacacheQuadro = new Array(16);
     
     //Colocando os endereços
     for(i=0; i<memoriaprincipal.length; i++)
     {
       var binario = i.toString(2);
       var resultado = pad(binario,10);
       memoriaprincipal[i] = new Array(4);
       memoriaprincipal[i][0] = resultado;
     }
     //Colocando os Blocos e Dados
     for(i=0; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=0;
       memoriaprincipal[i][2]="A";
     }
     for(i=1; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=1;
       memoriaprincipal[i][2]="B";
     }
     for(i=2; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=2;
       memoriaprincipal[i][2]="C";
     }
     for(i=3; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=3;
       memoriaprincipal[i][2]="D";
     }
     for(i=4; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=4;
       memoriaprincipal[i][2]="E";
     }
     for(i=5; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=5;
       memoriaprincipal[i][2]="F";
     }
     for(i=6; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=6;
       memoriaprincipal[i][2]="G";
     }
     for(i=7; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=7;
       memoriaprincipal[i][2]="H";
     }
     for(i=8; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=8;
       memoriaprincipal[i][2]="I";
     }
     for(i=9; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=9;
       memoriaprincipal[i][2]="J";
     }
     for(i=10; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=10;
       memoriaprincipal[i][2]="K";
     }
     for(i=11; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=11;
       memoriaprincipal[i][2]="L";
     }
     for(i=12; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=12;
       memoriaprincipal[i][2]="M";
     }
     for(i=13; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=13;
       memoriaprincipal[i][2]="N";
     }
     for(i=14; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=14;
       memoriaprincipal[i][2]="O";
     }
     for(i=15; i<1024; i=i+16)
     {
       memoriaprincipal[i][1]=15;
       memoriaprincipal[i][2]="P";
     }
    //  alert(memoriaprincipal[278][2]);

     /*************CRIAÇÃO DA MEMÓRIA CACHE**************/
    /*MEMÓRIA CACHE
    ENDEREÇO | CÉLULA 0 | CÉLULA 1 | CÉLULA 2 | CÉLULA 3 */
    for(i=0; i<memoriacache.length; i++)
     {
       var binario = i.toString(2);
       var resultado = pad(binario,4);
       memoriacache[i] = new Array(4);
       memoriacache[i][0] = resultado; 
     }
     
     for(i=0; i<memoriacacheQuadro.length; i++)
     {
        memoriacacheQuadro[i] = i; 
     }
     
     for (let i = 0; i < memoriaprincipal.length; i++) {
        const element = memoriaprincipal[i];
        tabelaMemPrincipal.innerHTML += 
        `
            <tr>
                <td>${memoriaprincipal[i][0]}</td>
                <td>${memoriaprincipal[i][1]}</td>
                <td>${memoriaprincipal[i][2]}</td>
            </tr>
        `
         
     }

     for (let i = 0; i < memoriacacheQuadro.length; i++) {
        const element = memoriacacheQuadro[i];
        tabelaMemCache.innerHTML += 
        `
            <tr>
                <td></td>
                <td>${memoriacacheQuadro[i]}</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>   
            </tr>
        `
         
     }
     
     

 
 
   
    </script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>